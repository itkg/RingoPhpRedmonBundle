{% extends 'ItkgPhpRedmonBundle::crud.html.twig' %}

{% block main %}
    
        <h2>Update a Redis Instance</h2>
      
        <form action="{{ path('itkg_php_redmon_instance_create') }}" method="post" {{ form_enctype(form) }}>
        {{ form_row(form.id) }}
        {{ form_row(form._token) }}
         <div class="field">
            {{ form_errors(form.name) }}
            {{ form_label(form.name) }}    
            {{ form_widget(form.name) }}
        </div>    
        <div class="field">
            {{ form_errors(form.host) }}
            {{ form_label(form.host) }}    
            {{ form_widget(form.host) }}
        </div>
        <div class="field">
            {{ form_errors(form.port) }}
            {{ form_label(form.port) }}
            {{ form_widget(form.port) }}
        </div>
        <span>Databases : <a href="#" class="del_database">Delete all databases</a></span>
        <ul class="databases" data-prototype="{{ form_widget(form.databases.vars.prototype)|e }}">
            {% for database in form.databases %}
                <li>Database nÂ° {{database.id.vars.value}} {{ form_row(database.name) }}</li>
            {% endfor %}
        </ul>
        <span class="add_link">
            <a href="#" class="add_database black">
                <img class="pull-left" src="{{ asset('/bundles/itkgphpredmon/images/add.png') }}" width="20"/>
                <strong>Add a database</strong>
            </a>
        </span>
        <input class="btn" type="submit" value="Submit" />
    </form>
        
    
{% endblock %} 
        
{% block widget %}
    <div class="span3 pull-right">
        <div class="well well-large add_link">
            <a class="black" href="{{ path('itkg_php_redmon_instance_delete', {'id': id}) }}">
                <img class="pull-left" src="{{ asset('/bundles/itkgphpredmon/images/del.png') }}" width="20"/>
                <strong>Delete this instance</strong></a>
        </div>
    </div>
{% endblock %}

